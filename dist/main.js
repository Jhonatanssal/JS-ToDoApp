(()=>{"use strict";const e=()=>{const e=document.getElementById("form");e&&e.parentNode.removeChild(e)},t=e=>{const t=document.getElementById("title").value,o=document.getElementById("description").value,n=document.getElementById("date").value,d=document.getElementById("priority").selectedIndex,a=document.getElementById("done").checked,l=new class{constructor(e,t,o,n,d){this.title=e,this.description=t,this.date=o,this.priotiry=n,this.done=d}}(t,o,n,d,a),c=JSON.parse(localStorage.getItem("myTodos"));c[e].projects.unshift(l),localStorage.setItem("myTodos",JSON.stringify(c))},o=(e,t,o)=>{const n=JSON.parse(localStorage.getItem("myTodos")),d=n[e].projects[t];console.log(n),console.log(d);const l=document.createElement("div"),c=document.createElement("form"),r=document.createElement("div"),i=document.createElement("input"),m=document.createElement("div"),p=document.createElement("input"),s=document.createElement("div"),u=document.createElement("input"),h=document.createElement("div"),y=document.createElement("select"),g=document.createElement("option"),C=document.createElement("option"),E=document.createElement("option"),N=document.createElement("div"),f=document.createElement("input"),v=document.createElement("label"),I=document.createElement("input");l.className="taskForm",c.id="form",r.className="taskTitle form-group",i.type="text",i.id="title",i.placeholder="Title",i.className="form-control",i.value=d.title,m.className="description form-group",p.type="text",p.id="description",p.placeholder="Description",p.className="form-control",p.value=d.description,s.className="date form-group",u.type="date",u.id="date",u.className="form-control",u.value=d.date,h.className="priority form-group",y.name="weapon",y.id="priority",y.className="form-control",g.value="High Priority",g.textContent="High Priority",C.value="Mid Priority",C.textContent="Mid Priority",E.value="Low Priority",E.textContent="Low Priority",y.value=d.priotiry,N.className="done form-group",f.type="checkbox",f.id="done",f.name="done",f.className="form-control",v.for="done",v.textContent="Completed: ",f.value=d.done,I.type="submit",I.id="button",I.className="btn btn-primary btn-block",I.addEventListener("click",(()=>{((e,t)=>{const o=document.getElementById("title").value,n=document.getElementById("description").value,d=document.getElementById("date").value,l=document.getElementById("priority").selectedIndex,c=document.getElementById("done").checked,r=JSON.parse(localStorage.getItem("myTodos"));r[e].projects[t].title=o,r[e].projects[t].description=n,r[e].projects[t].date=d,r[e].projects[t].priority=l,r[e].projects[t].done=c,localStorage.setItem("myTodos",JSON.stringify(r)),a(JSON.parse(localStorage.getItem("myTodos")))})(e,t)})),N.appendChild(f),N.appendChild(v),y.appendChild(g),y.appendChild(C),y.appendChild(E),h.appendChild(y),s.appendChild(u),m.appendChild(p),r.appendChild(i),c.appendChild(r),c.appendChild(m),c.appendChild(s),c.appendChild(h),c.appendChild(N),c.appendChild(I),l.appendChild(c),o.appendChild(l)},n=document.getElementById("projectsContainer"),d=a=>{n.innerHTML="",n.classList.add("align");for(let l=0;l<a.length;l++){const c=document.createElement("div"),r=document.createElement("h1"),i=document.createElement("button");c.id="formC",c.classList.add("card","p-2"),i.textContent="Add Task",r.textContent=a[l].name,i.type="submit",i.className="btn btn-primary",i.dataToggle="modal",i.dataTarget="#exampleModal",c.appendChild(r);for(let e=0;e<a[l].projects.length;e++){const t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("p"),i=document.createElement("p"),m=document.createElement("p"),p=document.createElement("p"),s=document.createElement("button"),u=document.createElement("button");t.classList.add("card","border","p-3","mb-2"),n.textContent=a[l].projects[e].title,r.textContent=a[l].projects[e].description,i.textContent=a[l].projects[e].date,m.textContent=["High Priority","Mid Priority","Low Priotity"][a[l].projects[e].priotiry],p.textContent=a[l].projects[e].done?"Completed":"To Do",s.textContent="Edit",u.textContent="Delete",s.className="btn btn-success",u.className="btn btn-danger mt-2";const h=a[l];u.addEventListener("click",(t=>{t.preventDefault(),console.log(l,e,h);const o=JSON.parse(localStorage.getItem("myTodos"));o[l].projects.splice(e,1),localStorage.setItem("myTodos",JSON.stringify(o)),d(JSON.parse(localStorage.getItem("myTodos")))})),s.addEventListener("click",(t=>{t.preventDefault(),c.innerHTML+="",o(l,e,c)})),t.appendChild(n),t.appendChild(r),t.appendChild(i),t.appendChild(m),t.appendChild(p),t.appendChild(s),t.appendChild(u),c.appendChild(t)}i.addEventListener("click",(()=>{e();const o=document.createElement("div"),n=document.createElement("form"),d=document.createElement("div"),a=document.createElement("input"),r=document.createElement("div"),i=document.createElement("input"),m=document.createElement("div"),p=document.createElement("input"),s=document.createElement("div"),u=document.createElement("select"),h=document.createElement("option"),y=document.createElement("option"),g=document.createElement("option"),C=document.createElement("div"),E=document.createElement("input"),N=document.createElement("label"),f=document.createElement("input");o.className="taskForm",n.id="form",d.className="taskTitle form-group",a.type="text",a.id="title",a.placeholder="Title",a.className="form-control",a.required=!0,r.className="description form-group",i.type="text",i.id="description",i.required=!0,i.placeholder="Description",i.className="form-control",m.className="date form-group",p.type="date",p.id="date",p.required=!0,p.className="form-control",s.className="priority form-group",u.name="weapon",u.id="priority",u.className="form-control",h.value="High Priority",h.textContent="High Priority",y.value="Mid Priority",y.textContent="Mid Priority",g.value="Low Priority",g.textContent="Low Priority",C.className="done form-group",E.type="checkbox",E.id="done",E.name="done",E.className="form-control",N.for="done",N.textContent="Completed: ",f.type="submit",f.id="button",f.className="btn btn-primary btn-block",C.appendChild(E),C.appendChild(N),u.appendChild(h),u.appendChild(y),u.appendChild(g),s.appendChild(u),m.appendChild(p),r.appendChild(i),d.appendChild(a),n.appendChild(d),n.appendChild(r),n.appendChild(m),n.appendChild(s),n.appendChild(C),n.appendChild(f),o.appendChild(n),c.appendChild(o),f.addEventListener("click",(()=>{t(l)}))})),c.appendChild(i),n.appendChild(c)}},a=d;document.getElementById("botonProject").addEventListener("click",(()=>{const e=document.getElementById("projectName").value,t=new class{constructor(e){this.name=e,this.projects=[]}}(e);(function(e){if(null===localStorage.getItem("myTodos")){const t=[];t.unshift(e),localStorage.setItem("myTodos",JSON.stringify(t))}else{const t=JSON.parse(localStorage.getItem("myTodos"));t.unshift(e),localStorage.setItem("myTodos",JSON.stringify(t))}})(t),a(l[t].projects)}));let l=JSON.parse(localStorage.getItem("myTodos"));a(JSON.parse(localStorage.getItem("myTodos")))})();