(()=>{"use strict";const e=e=>{const t=document.getElementById("title").value,n=document.getElementById("description").value,o=document.getElementById("date").value,d=document.getElementById("priority").selectedIndex,a=document.getElementById("done").checked,l=new class{constructor(e,t,n,o,d){this.title=e,this.description=t,this.date=n,this.priotiry=o,this.done=d}}(t,n,o,d,a),i=JSON.parse(localStorage.getItem("myTodos"));i[e].projects.unshift(l),localStorage.setItem("myTodos",JSON.stringify(i))},t=(e,t)=>{const n=document.getElementById("projectsContainer"),o=JSON.parse(localStorage.getItem("myTodos"))[e].projects[t],a=document.createElement("div");a.className="modd",document.body.appendChild(a),n.className="fadee align";const l=document.createElement("div"),i=document.createElement("form"),c=document.createElement("div"),r=document.createElement("input"),m=document.createElement("div"),s=document.createElement("input"),p=document.createElement("div"),u=document.createElement("input"),y=document.createElement("div"),h=document.createElement("select"),C=document.createElement("option"),E=document.createElement("option"),g=document.createElement("option"),v=document.createElement("div"),b=document.createElement("input"),N=document.createElement("label"),f=document.createElement("input");l.className="taskForm",i.id="form",i.classList="p-3 border",c.className="taskTitle form-group",r.type="text",r.id="title",r.placeholder="Title",r.className="form-control",r.required=!0,r.value=o.title,m.className="description form-group",s.type="text",s.id="description",s.required=!0,s.placeholder="Description",s.className="form-control",s.value=o.description,p.className="date form-group",u.type="date",u.id="date",u.required=!0,u.className="form-control",u.value=o.date,y.className="priority form-group",h.name="weapon",h.id="priority",h.className="form-control",C.value="High Priority",C.textContent="High Priority",E.value="Mid Priority",E.textContent="Mid Priority",g.value="Low Priority",g.textContent="Low Priority",h.value=o.priotiry,v.className="done form-group",b.type="checkbox",b.id="done",b.name="done",b.className="form-control",N.for="done",N.textContent="Completed: ",b.value=o.done,f.type="submit",f.id="button",f.value="Update Task",f.className="btn btn-primary btn-block",v.appendChild(b),v.appendChild(N),h.appendChild(C),h.appendChild(E),h.appendChild(g),y.appendChild(h),p.appendChild(u),m.appendChild(s),c.appendChild(r),i.appendChild(c),i.appendChild(m),i.appendChild(p),i.appendChild(y),i.appendChild(v),i.appendChild(f),l.appendChild(i),a.appendChild(l),f.addEventListener("click",(()=>{""===r.value&&""===s.value&&""===u.value?alert("Title, description an date can't be empty"):((e,t)=>{const n=document.getElementById("title").value,o=document.getElementById("description").value,a=document.getElementById("date").value,l=document.getElementById("priority").selectedIndex,i=document.getElementById("done").checked,c=JSON.parse(localStorage.getItem("myTodos"));c[e].projects[t].title=n,c[e].projects[t].description=o,c[e].projects[t].date=a,c[e].projects[t].priority=l,c[e].projects[t].done=i,localStorage.setItem("myTodos",JSON.stringify(c)),d(JSON.parse(localStorage.getItem("myTodos")))})(e,t)}))},n=document.getElementById("projectsContainer"),o=d=>{n.innerHTML="",n.classList.add("align");for(let a=0;a<d.length;a+=1){const l=document.createElement("div"),i=document.createElement("h1"),c=document.createElement("button");l.id="formC",l.classList.add("card","p-2"),c.textContent="Add Task",i.textContent=d[a].name,c.type="submit",c.className="btn btn-primary",c.dataToggle="modal",c.dataTarget="#exampleModal",l.appendChild(i);for(let e=0;e<d[a].projects.length;e+=1){const n=document.createElement("div"),i=document.createElement("h3"),c=document.createElement("p"),r=document.createElement("p"),m=document.createElement("p"),s=document.createElement("p"),p=document.createElement("button"),u=document.createElement("button");n.classList.add("card","border","p-3","mb-2");const y=document.createElement("div"),h=document.createElement("button"),C=document.createElement("button");i.textContent=d[a].projects[e].title,c.textContent=d[a].projects[e].description,r.textContent=d[a].projects[e].date,m.textContent=["High Priority","Mid Priority","Low Priotity"][d[a].projects[e].priotiry],s.textContent=d[a].projects[e].done?"Completed":"To Do",p.textContent="Edit",u.textContent="Delete",p.className="btn btn-success btn-block",u.className="btn btn-danger btn-block mt-2",y.style.display="none",y.id="infoTaskContainer",h.id="showTask",C.id="hideTask",h.className="btn btn-info",C.className="btn btn-warning",C.style.display="none",C.textContent="Hide",h.textContent="Show",u.addEventListener("click",(t=>{t.preventDefault();const n=JSON.parse(localStorage.getItem("myTodos"));n[a].projects.splice(e,1),localStorage.setItem("myTodos",JSON.stringify(n)),o(JSON.parse(localStorage.getItem("myTodos")))})),p.addEventListener("click",(n=>{n.preventDefault(),l.innerHTML+="",t(a,e)})),h.addEventListener("click",(()=>{y.style.display="block",h.style.display="none",C.style.display="block"})),C.addEventListener("click",(()=>{y.style.display="none",h.style.display="block",C.style.display="none"})),n.appendChild(i),n.appendChild(c),n.appendChild(h),n.appendChild(C),y.appendChild(r),y.appendChild(m),y.appendChild(s),y.appendChild(p),y.appendChild(u),n.appendChild(y),l.appendChild(n)}c.addEventListener("click",(()=>{const t=document.createElement("div");t.className="modd",document.body.appendChild(t),n.className="fadee align";const o=document.createElement("div"),d=document.createElement("form"),l=document.createElement("div"),i=document.createElement("input"),c=document.createElement("div"),r=document.createElement("input"),m=document.createElement("div"),s=document.createElement("input"),p=document.createElement("div"),u=document.createElement("select"),y=document.createElement("option"),h=document.createElement("option"),C=document.createElement("option"),E=document.createElement("div"),g=document.createElement("input"),v=document.createElement("label"),b=document.createElement("input");o.className="taskForm",d.id="form",d.classList="p-3 border",l.className="taskTitle form-group",i.type="text",i.id="title",i.placeholder="Title",i.className="form-control",i.required=!0,c.className="description form-group",r.type="text",r.id="description",r.required=!0,r.placeholder="Description",r.className="form-control",m.className="date form-group",s.type="date",s.id="date",s.required=!0,s.className="form-control",p.className="priority form-group",u.name="weapon",u.id="priority",u.className="form-control",y.value="High Priority",y.textContent="High Priority",h.value="Mid Priority",h.textContent="Mid Priority",C.value="Low Priority",C.textContent="Low Priority",E.className="done form-group",g.type="checkbox",g.id="done",g.name="done",g.className="form-control",v.for="done",v.textContent="Completed: ",b.type="submit",b.id="button",b.value="Create Task",b.className="btn btn-primary btn-block",E.appendChild(g),E.appendChild(v),u.appendChild(y),u.appendChild(h),u.appendChild(C),p.appendChild(u),m.appendChild(s),c.appendChild(r),l.appendChild(i),d.appendChild(l),d.appendChild(c),d.appendChild(m),d.appendChild(p),d.appendChild(E),d.appendChild(b),o.appendChild(d),t.appendChild(o),b.addEventListener("click",(()=>{""===i.value&&""===r.value&&""===s.value?alert("Title, description an date can't be empty"):e(a)}))})),l.appendChild(c),n.appendChild(l)}},d=o;document.getElementById("botonProject").addEventListener("click",(()=>{const e=document.getElementById("projectName").value,t=new class{constructor(e){this.name=e,this.projects=[]}}(e);""===e?alert("Project has to have a name!"):function(e){if(null===localStorage.getItem("myTodos")){const t=[{name:"Daily",projects:[{title:"Run",description:"Go to run",date:"2020-11-06",priotiry:0,done:!0},{title:"Hacking Nasa",description:"Let's hack the Nasa",date:"2020-11-06",priotiry:0,done:!0},{title:"Buy a Tesla",description:"Go to buy a tesla",date:"2020-11-06",priotiry:0,done:!1}]}];t.push(e),localStorage.setItem("myTodos",JSON.stringify(t))}else{const t=JSON.parse(localStorage.getItem("myTodos"));t.push(e),localStorage.setItem("myTodos",JSON.stringify(t))}}(t)})),d(JSON.parse(localStorage.getItem("myTodos")))})();